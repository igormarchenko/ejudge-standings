<style>
    .cell-ok {
        background-color: #2b9e2b;
    }

    .cell-wrong {
        background-color: #b34542;
    }

    .cell-unknown {
        background-color: #965f0c;
    }

    .cell-empty {
        background-color: #8c8c8c;
    }
</style>

<div class="row">
    <div class="col-md-11">
        <h2>{{contest.name}}</h2>
    </div>
</div>
<div>
<table class="table table-bordered" id="resultsTable">
    <thead>
    <tr>
        <th>#</th>
        <th>Team</th>
        <th ng-repeat="task in contest.tasks track by $index" style="text-align: center" title="{{task.longName}}">
            {{task.shortName}}
        </th>
        <th>Solved</th>
    </tr>
    </thead>
    <tbody infinite-scroll='loadMore()' infinite-scroll-disabled="scrollDisabled"
           infinite-scroll-use-document-bottom="true">

    <tr ng-repeat="team in display track by $index">
        <td width="40px">
            <h4>{{$index + 1}}</h4>
        </td>
        <td width="450px">
            <b>{{team.participant.name}}</b> <br/>
            <i>{{team.participant.university.name}}</i>
        </td>
        <td ng-repeat="task in ::contest.tasks track by $index"
            width="50px"
            valign="middle"
            ng-class="{undefined : 'cell-empty', 'EMPTY' : 'cell-empty', 'OK' : 'cell-ok', 'UNKNOWN' : 'cell-unknown', 'WA' : 'cell-wrong', 'TL' : 'cell-wrong', 'RT' : 'cell-wrong', 'PE' : 'cell-wrong', 'ML' : 'cell-wrong', 'SE' : 'cell-wrong'}[team.results[task.id].status]"
            class="text-center">
            <div ng-switch="team.results[task.id].status">
                <div ng-switch-when="EMPTY|null|undefined" ng-switch-when-separator="|"></div>
                <div ng-switch-when="OK"><b>+ {{(team.results[task.id].tries - 1 > 0) ? team.results[task.id].tries :
                    ''}} </b>
                    <br/>
                    <i>
                        <small> {{formatTime(team.results[task.id].acceptedTime)}}</small>
                    </i>
                </div>
                <div ng-switch-when="UNKNOWN"><b>?</b></div>
                <div ng-switch-default><b>-{{team.results[task.id].tries}}</b></div>
            </div>


        </td>
        <td width="50px">
            <b>{{team.solved}}</b>
            <br/>
            <i>{{team.penalty}}</i>
        </td>
    </tr>
    </tbody>

</table>
</div>